{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { __extends } from \"tslib\";\nimport { BaseRequestPolicy } from \"./requestPolicy\";\nexport function generateClientRequestIdPolicy(requestIdHeaderName) {\n  if (requestIdHeaderName === void 0) {\n    requestIdHeaderName = \"x-ms-client-request-id\";\n  }\n\n  return {\n    create: function (nextPolicy, options) {\n      return new GenerateClientRequestIdPolicy(nextPolicy, options, requestIdHeaderName);\n    }\n  };\n}\n\nvar GenerateClientRequestIdPolicy =\n/** @class */\nfunction (_super) {\n  __extends(GenerateClientRequestIdPolicy, _super);\n\n  function GenerateClientRequestIdPolicy(nextPolicy, options, _requestIdHeaderName) {\n    var _this = _super.call(this, nextPolicy, options) || this;\n\n    _this._requestIdHeaderName = _requestIdHeaderName;\n    return _this;\n  }\n\n  GenerateClientRequestIdPolicy.prototype.sendRequest = function (request) {\n    if (!request.headers.contains(this._requestIdHeaderName)) {\n      request.headers.set(this._requestIdHeaderName, request.requestId);\n    }\n\n    return this._nextPolicy.sendRequest(request);\n  };\n\n  return GenerateClientRequestIdPolicy;\n}(BaseRequestPolicy);\n\nexport { GenerateClientRequestIdPolicy };","map":{"version":3,"sources":["../../../src/policies/generateClientRequestIdPolicy.ts"],"names":[],"mappings":"AAAA;AACA;;AAIA,SACE,iBADF,QAKO,iBALP;AAOA,OAAM,SAAU,6BAAV,CACJ,mBADI,EAC0C;AAA9C,MAAA,mBAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,mBAAA,GAAA,wBAAA;AAA8C;;AAE9C,SAAO;AACL,IAAA,MAAM,EAAE,UAAC,UAAD,EAA4B,OAA5B,EAAyD;AAC/D,aAAO,IAAI,6BAAJ,CAAkC,UAAlC,EAA8C,OAA9C,EAAuD,mBAAvD,CAAP;AACD;AAHI,GAAP;AAKD;;AAED,IAAA,6BAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAmD,EAAA,SAAA,CAAA,6BAAA,EAAA,MAAA,CAAA;;AACjD,WAAA,6BAAA,CACE,UADF,EAEE,OAFF,EAGU,oBAHV,EAGsC;AAHtC,QAAA,KAAA,GAKE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,UAAN,EAAkB,OAAlB,KAA0B,IAL5B;;AAGU,IAAA,KAAA,CAAA,oBAAA,GAAA,oBAAA;;AAGT;;AAEM,EAAA,6BAAA,CAAA,SAAA,CAAA,WAAA,GAAP,UAAmB,OAAnB,EAA2C;AACzC,QAAI,CAAC,OAAO,CAAC,OAAR,CAAgB,QAAhB,CAAyB,KAAK,oBAA9B,CAAL,EAA0D;AACxD,MAAA,OAAO,CAAC,OAAR,CAAgB,GAAhB,CAAoB,KAAK,oBAAzB,EAA+C,OAAO,CAAC,SAAvD;AACD;;AACD,WAAO,KAAK,WAAL,CAAiB,WAAjB,CAA6B,OAA7B,CAAP;AACD,GALM;;AAMT,SAAA,6BAAA;AAAC,CAfD,CAAmD,iBAAnD,CAAA","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { HttpOperationResponse } from \"../httpOperationResponse\";\nimport { WebResourceLike } from \"../webResource\";\nimport {\n  BaseRequestPolicy,\n  RequestPolicy,\n  RequestPolicyFactory,\n  RequestPolicyOptions\n} from \"./requestPolicy\";\n\nexport function generateClientRequestIdPolicy(\n  requestIdHeaderName = \"x-ms-client-request-id\"\n): RequestPolicyFactory {\n  return {\n    create: (nextPolicy: RequestPolicy, options: RequestPolicyOptions) => {\n      return new GenerateClientRequestIdPolicy(nextPolicy, options, requestIdHeaderName);\n    }\n  };\n}\n\nexport class GenerateClientRequestIdPolicy extends BaseRequestPolicy {\n  constructor(\n    nextPolicy: RequestPolicy,\n    options: RequestPolicyOptions,\n    private _requestIdHeaderName: string\n  ) {\n    super(nextPolicy, options);\n  }\n\n  public sendRequest(request: WebResourceLike): Promise<HttpOperationResponse> {\n    if (!request.headers.contains(this._requestIdHeaderName)) {\n      request.headers.set(this._requestIdHeaderName, request.requestId);\n    }\n    return this._nextPolicy.sendRequest(request);\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}