{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport cssifyDeclaration from 'css-in-js-utils/lib/cssifyDeclaration';\nimport arrayEach from 'fast-loops/lib/arrayEach';\nimport isPlainObject from 'isobject';\nimport { generateDeclarationReference, generateCombinedMediaQuery, generateCSSSelector, isMediaQuery, isNestedSelector, isUndefinedValue, isSupport, normalizeNestedProperty, processStyleWithPlugins, STATIC_TYPE, RULE_TYPE, KEYFRAME_TYPE, FONT_TYPE, CLEAR_TYPE } from 'fela-utils';\nimport cssifyFontFace from './cssifyFontFace';\nimport cssifyKeyframe from './cssifyKeyframe';\nimport cssifyStaticStyle from './cssifyStaticStyle';\nimport generateAnimationName from './generateAnimationName';\nimport generateClassName from './generateClassName';\nimport generateFontSource from './generateFontSource';\nimport generateStaticReference from './generateStaticReference';\nimport getFontLocals from './getFontLocals';\nimport isSafeClassName from './isSafeClassName';\nimport toCSSString from './toCSSString';\nimport validateSelectorPrefix from './validateSelectorPrefix';\nexport default function createRenderer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var renderer = {\n    listeners: [],\n    keyframePrefixes: config.keyframePrefixes || ['-webkit-', '-moz-'],\n    plugins: config.plugins || [],\n    mediaQueryOrder: config.mediaQueryOrder || [],\n    supportQueryOrder: config.supportQueryOrder || [],\n    ruleOrder: [/^:link/, /^:visited/, /^:hover/, /^:focus-within/, /^:focus/, /^:active/],\n    selectorPrefix: validateSelectorPrefix(config.selectorPrefix),\n    filterClassName: config.filterClassName || isSafeClassName,\n    devMode: config.devMode || false,\n    uniqueRuleIdentifier: 0,\n    uniqueKeyframeIdentifier: 0,\n    nodes: {},\n    scoreIndex: {},\n    // use a flat cache object with pure string references\n    // to achieve maximal lookup performance and memoization speed\n    cache: {},\n    getNextRuleIdentifier: function getNextRuleIdentifier() {\n      return ++renderer.uniqueRuleIdentifier;\n    },\n    renderRule: function renderRule(rule) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return renderer._renderStyle(rule(props, renderer), props);\n    },\n    renderKeyframe: function renderKeyframe(keyframe) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var resolvedKeyframe = keyframe(props, renderer);\n      var processedKeyframe = processStyleWithPlugins(renderer, resolvedKeyframe, KEYFRAME_TYPE, props);\n      var keyframeReference = JSON.stringify(processedKeyframe);\n\n      if (!renderer.cache.hasOwnProperty(keyframeReference)) {\n        // use another unique identifier to ensure minimal css markup\n        var animationName = renderer.selectorPrefix + generateAnimationName(++renderer.uniqueKeyframeIdentifier);\n        var cssKeyframe = cssifyKeyframe(processedKeyframe, animationName, renderer.keyframePrefixes);\n        var change = {\n          type: KEYFRAME_TYPE,\n          keyframe: cssKeyframe,\n          name: animationName\n        };\n        renderer.cache[keyframeReference] = change;\n\n        renderer._emitChange(change);\n      }\n\n      return renderer.cache[keyframeReference].name;\n    },\n    renderFont: function renderFont(family, files) {\n      var properties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var localAlias = properties.localAlias,\n          otherProperties = _objectWithoutProperties(properties, ['localAlias']);\n\n      var fontReference = family + JSON.stringify(properties);\n      var fontLocals = getFontLocals(localAlias);\n\n      if (!renderer.cache.hasOwnProperty(fontReference)) {\n        var fontFamily = toCSSString(family);\n\n        var fontFace = _extends({}, otherProperties, {\n          src: generateFontSource(files, fontLocals),\n          fontFamily: fontFamily\n        });\n\n        var cssFontFace = cssifyFontFace(fontFace);\n        var change = {\n          type: FONT_TYPE,\n          fontFace: cssFontFace,\n          fontFamily: fontFamily\n        };\n        renderer.cache[fontReference] = change;\n\n        renderer._emitChange(change);\n      }\n\n      return renderer.cache[fontReference].fontFamily;\n    },\n    renderStatic: function renderStatic(staticStyle, selector) {\n      var staticReference = generateStaticReference(staticStyle, selector);\n\n      if (!renderer.cache.hasOwnProperty(staticReference)) {\n        var cssDeclarations = cssifyStaticStyle(staticStyle, renderer);\n        var change = {\n          type: STATIC_TYPE,\n          css: cssDeclarations,\n          selector: selector\n        };\n        renderer.cache[staticReference] = change;\n\n        renderer._emitChange(change);\n      }\n    },\n    subscribe: function subscribe(callback) {\n      renderer.listeners.push(callback);\n      return {\n        unsubscribe: function unsubscribe() {\n          return renderer.listeners.splice(renderer.listeners.indexOf(callback), 1);\n        }\n      };\n    },\n    clear: function clear() {\n      renderer.uniqueRuleIdentifier = 0;\n      renderer.uniqueKeyframeIdentifier = 0;\n      renderer.cache = {};\n\n      renderer._emitChange({\n        type: CLEAR_TYPE\n      });\n    },\n    _renderStyle: function _renderStyle() {\n      var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var processedStyle = processStyleWithPlugins(renderer, style, RULE_TYPE, props);\n      return renderer._renderStyleToClassNames(processedStyle).slice(1);\n    },\n    _renderStyleToClassNames: function _renderStyleToClassNames(_ref) {\n      var pseudo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var media = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var support = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n\n      var _className = _ref._className,\n          style = _objectWithoutProperties(_ref, ['_className']);\n\n      var classNames = _className ? ' ' + _className : '';\n\n      for (var property in style) {\n        var value = style[property];\n\n        if (isPlainObject(value)) {\n          if (isNestedSelector(property)) {\n            classNames += renderer._renderStyleToClassNames(value, pseudo + normalizeNestedProperty(property), media, support);\n          } else if (isMediaQuery(property)) {\n            var combinedMediaQuery = generateCombinedMediaQuery(media, property.slice(6).trim());\n            classNames += renderer._renderStyleToClassNames(value, pseudo, combinedMediaQuery, support);\n          } else if (isSupport(property)) {\n            var combinedSupport = generateCombinedMediaQuery(support, property.slice(9).trim());\n            classNames += renderer._renderStyleToClassNames(value, pseudo, media, combinedSupport);\n          } else {\n            console.warn('The object key \"' + property + '\" is not a valid nested key in Fela.\\nMaybe you forgot to add a plugin to resolve it?\\nCheck http://fela.js.org/docs/basics/Rules.html#styleobject for more information.');\n          }\n        } else {\n          var declarationReference = generateDeclarationReference(property, value, pseudo, media, support);\n\n          if (!renderer.cache.hasOwnProperty(declarationReference)) {\n            // we remove undefined values to enable\n            // usage of optional props without side-effects\n            if (isUndefinedValue(value)) {\n              renderer.cache[declarationReference] = {\n                className: ''\n                /* eslint-disable no-continue */\n\n              };\n              continue;\n              /* eslint-enable */\n            }\n\n            var className = renderer.selectorPrefix + generateClassName(renderer.getNextRuleIdentifier, renderer.filterClassName);\n            var declaration = cssifyDeclaration(property, value);\n            var selector = generateCSSSelector(className, pseudo);\n            var change = {\n              type: RULE_TYPE,\n              className: className,\n              selector: selector,\n              declaration: declaration,\n              pseudo: pseudo,\n              media: media,\n              support: support\n            };\n            renderer.cache[declarationReference] = change;\n\n            renderer._emitChange(change);\n          }\n\n          var cachedClassName = renderer.cache[declarationReference].className; // only append if we got a class cached\n\n          if (cachedClassName) {\n            classNames += ' ' + cachedClassName;\n          }\n        }\n      }\n\n      return classNames;\n    },\n    _emitChange: function _emitChange(change) {\n      arrayEach(renderer.listeners, function (listener) {\n        return listener(change);\n      });\n    }\n  }; // initial setup\n\n  renderer.keyframePrefixes.push('');\n\n  if (config.enhancers) {\n    arrayEach(config.enhancers, function (enhancer) {\n      renderer = enhancer(renderer);\n    });\n  }\n\n  return renderer;\n}","map":{"version":3,"sources":["C:/Users/VISHWANATH REDDY/Documents/Teams_Clone/Group_Call/Calling/ClientApp/node_modules/fela/es/createRenderer.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_objectWithoutProperties","obj","keys","indexOf","cssifyDeclaration","arrayEach","isPlainObject","generateDeclarationReference","generateCombinedMediaQuery","generateCSSSelector","isMediaQuery","isNestedSelector","isUndefinedValue","isSupport","normalizeNestedProperty","processStyleWithPlugins","STATIC_TYPE","RULE_TYPE","KEYFRAME_TYPE","FONT_TYPE","CLEAR_TYPE","cssifyFontFace","cssifyKeyframe","cssifyStaticStyle","generateAnimationName","generateClassName","generateFontSource","generateStaticReference","getFontLocals","isSafeClassName","toCSSString","validateSelectorPrefix","createRenderer","config","undefined","renderer","listeners","keyframePrefixes","plugins","mediaQueryOrder","supportQueryOrder","ruleOrder","selectorPrefix","filterClassName","devMode","uniqueRuleIdentifier","uniqueKeyframeIdentifier","nodes","scoreIndex","cache","getNextRuleIdentifier","renderRule","rule","props","_renderStyle","renderKeyframe","keyframe","resolvedKeyframe","processedKeyframe","keyframeReference","JSON","stringify","animationName","cssKeyframe","change","type","name","_emitChange","renderFont","family","files","properties","localAlias","otherProperties","fontReference","fontLocals","fontFamily","fontFace","src","cssFontFace","renderStatic","staticStyle","selector","staticReference","cssDeclarations","css","subscribe","callback","push","unsubscribe","splice","clear","style","processedStyle","_renderStyleToClassNames","slice","_ref","pseudo","media","support","_className","classNames","property","value","combinedMediaQuery","trim","combinedSupport","console","warn","declarationReference","className","declaration","cachedClassName","listener","enhancers","enhancer"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport cssifyDeclaration from 'css-in-js-utils/lib/cssifyDeclaration';\nimport arrayEach from 'fast-loops/lib/arrayEach';\nimport isPlainObject from 'isobject';\n\nimport { generateDeclarationReference, generateCombinedMediaQuery, generateCSSSelector, isMediaQuery, isNestedSelector, isUndefinedValue, isSupport, normalizeNestedProperty, processStyleWithPlugins, STATIC_TYPE, RULE_TYPE, KEYFRAME_TYPE, FONT_TYPE, CLEAR_TYPE } from 'fela-utils';\n\nimport cssifyFontFace from './cssifyFontFace';\nimport cssifyKeyframe from './cssifyKeyframe';\nimport cssifyStaticStyle from './cssifyStaticStyle';\nimport generateAnimationName from './generateAnimationName';\nimport generateClassName from './generateClassName';\nimport generateFontSource from './generateFontSource';\nimport generateStaticReference from './generateStaticReference';\nimport getFontLocals from './getFontLocals';\nimport isSafeClassName from './isSafeClassName';\nimport toCSSString from './toCSSString';\nimport validateSelectorPrefix from './validateSelectorPrefix';\n\nexport default function createRenderer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var renderer = {\n    listeners: [],\n    keyframePrefixes: config.keyframePrefixes || ['-webkit-', '-moz-'],\n    plugins: config.plugins || [],\n    mediaQueryOrder: config.mediaQueryOrder || [],\n    supportQueryOrder: config.supportQueryOrder || [],\n    ruleOrder: [/^:link/, /^:visited/, /^:hover/, /^:focus-within/, /^:focus/, /^:active/],\n    selectorPrefix: validateSelectorPrefix(config.selectorPrefix),\n    filterClassName: config.filterClassName || isSafeClassName,\n    devMode: config.devMode || false,\n\n    uniqueRuleIdentifier: 0,\n    uniqueKeyframeIdentifier: 0,\n\n    nodes: {},\n    scoreIndex: {},\n    // use a flat cache object with pure string references\n    // to achieve maximal lookup performance and memoization speed\n    cache: {},\n\n    getNextRuleIdentifier: function getNextRuleIdentifier() {\n      return ++renderer.uniqueRuleIdentifier;\n    },\n    renderRule: function renderRule(rule) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return renderer._renderStyle(rule(props, renderer), props);\n    },\n    renderKeyframe: function renderKeyframe(keyframe) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var resolvedKeyframe = keyframe(props, renderer);\n      var processedKeyframe = processStyleWithPlugins(renderer, resolvedKeyframe, KEYFRAME_TYPE, props);\n\n      var keyframeReference = JSON.stringify(processedKeyframe);\n\n      if (!renderer.cache.hasOwnProperty(keyframeReference)) {\n        // use another unique identifier to ensure minimal css markup\n        var animationName = renderer.selectorPrefix + generateAnimationName(++renderer.uniqueKeyframeIdentifier);\n\n        var cssKeyframe = cssifyKeyframe(processedKeyframe, animationName, renderer.keyframePrefixes);\n\n        var change = {\n          type: KEYFRAME_TYPE,\n          keyframe: cssKeyframe,\n          name: animationName\n        };\n\n        renderer.cache[keyframeReference] = change;\n        renderer._emitChange(change);\n      }\n\n      return renderer.cache[keyframeReference].name;\n    },\n    renderFont: function renderFont(family, files) {\n      var properties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var localAlias = properties.localAlias,\n          otherProperties = _objectWithoutProperties(properties, ['localAlias']);\n\n      var fontReference = family + JSON.stringify(properties);\n      var fontLocals = getFontLocals(localAlias);\n\n      if (!renderer.cache.hasOwnProperty(fontReference)) {\n        var fontFamily = toCSSString(family);\n\n        var fontFace = _extends({}, otherProperties, {\n          src: generateFontSource(files, fontLocals),\n          fontFamily: fontFamily\n        });\n\n        var cssFontFace = cssifyFontFace(fontFace);\n\n        var change = {\n          type: FONT_TYPE,\n          fontFace: cssFontFace,\n          fontFamily: fontFamily\n        };\n\n        renderer.cache[fontReference] = change;\n        renderer._emitChange(change);\n      }\n\n      return renderer.cache[fontReference].fontFamily;\n    },\n    renderStatic: function renderStatic(staticStyle, selector) {\n      var staticReference = generateStaticReference(staticStyle, selector);\n\n      if (!renderer.cache.hasOwnProperty(staticReference)) {\n        var cssDeclarations = cssifyStaticStyle(staticStyle, renderer);\n\n        var change = {\n          type: STATIC_TYPE,\n          css: cssDeclarations,\n          selector: selector\n        };\n\n        renderer.cache[staticReference] = change;\n        renderer._emitChange(change);\n      }\n    },\n    subscribe: function subscribe(callback) {\n      renderer.listeners.push(callback);\n\n      return {\n        unsubscribe: function unsubscribe() {\n          return renderer.listeners.splice(renderer.listeners.indexOf(callback), 1);\n        }\n      };\n    },\n    clear: function clear() {\n      renderer.uniqueRuleIdentifier = 0;\n      renderer.uniqueKeyframeIdentifier = 0;\n      renderer.cache = {};\n\n      renderer._emitChange({\n        type: CLEAR_TYPE\n      });\n    },\n    _renderStyle: function _renderStyle() {\n      var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var processedStyle = processStyleWithPlugins(renderer, style, RULE_TYPE, props);\n\n      return renderer._renderStyleToClassNames(processedStyle).slice(1);\n    },\n    _renderStyleToClassNames: function _renderStyleToClassNames(_ref) {\n      var pseudo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var media = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var support = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n\n      var _className = _ref._className,\n          style = _objectWithoutProperties(_ref, ['_className']);\n\n      var classNames = _className ? ' ' + _className : '';\n\n      for (var property in style) {\n        var value = style[property];\n\n        if (isPlainObject(value)) {\n          if (isNestedSelector(property)) {\n            classNames += renderer._renderStyleToClassNames(value, pseudo + normalizeNestedProperty(property), media, support);\n          } else if (isMediaQuery(property)) {\n            var combinedMediaQuery = generateCombinedMediaQuery(media, property.slice(6).trim());\n            classNames += renderer._renderStyleToClassNames(value, pseudo, combinedMediaQuery, support);\n          } else if (isSupport(property)) {\n            var combinedSupport = generateCombinedMediaQuery(support, property.slice(9).trim());\n            classNames += renderer._renderStyleToClassNames(value, pseudo, media, combinedSupport);\n          } else {\n            console.warn('The object key \"' + property + '\" is not a valid nested key in Fela.\\nMaybe you forgot to add a plugin to resolve it?\\nCheck http://fela.js.org/docs/basics/Rules.html#styleobject for more information.');\n          }\n        } else {\n          var declarationReference = generateDeclarationReference(property, value, pseudo, media, support);\n\n          if (!renderer.cache.hasOwnProperty(declarationReference)) {\n            // we remove undefined values to enable\n            // usage of optional props without side-effects\n            if (isUndefinedValue(value)) {\n              renderer.cache[declarationReference] = {\n                className: ''\n                /* eslint-disable no-continue */\n              };continue;\n              /* eslint-enable */\n            }\n\n            var className = renderer.selectorPrefix + generateClassName(renderer.getNextRuleIdentifier, renderer.filterClassName);\n\n            var declaration = cssifyDeclaration(property, value);\n            var selector = generateCSSSelector(className, pseudo);\n\n            var change = {\n              type: RULE_TYPE,\n              className: className,\n              selector: selector,\n              declaration: declaration,\n              pseudo: pseudo,\n              media: media,\n              support: support\n            };\n\n            renderer.cache[declarationReference] = change;\n            renderer._emitChange(change);\n          }\n\n          var cachedClassName = renderer.cache[declarationReference].className;\n\n          // only append if we got a class cached\n          if (cachedClassName) {\n            classNames += ' ' + cachedClassName;\n          }\n        }\n      }\n\n      return classNames;\n    },\n    _emitChange: function _emitChange(change) {\n      arrayEach(renderer.listeners, function (listener) {\n        return listener(change);\n      });\n    }\n  };\n\n  // initial setup\n  renderer.keyframePrefixes.push('');\n\n  if (config.enhancers) {\n    arrayEach(config.enhancers, function (enhancer) {\n      renderer = enhancer(renderer);\n    });\n  }\n\n  return renderer;\n}"]},"metadata":{},"sourceType":"module"}