{"ast":null,"code":"export var RefStack = function RefStack() {\n  var _this = this;\n\n  this.set = new Set();\n\n  this.getContextRefs = function (ref) {\n    var nodes = Array.from(_this.set);\n    var refId = nodes.indexOf(ref);\n    return nodes.slice(refId);\n  };\n\n  this.register = function (ref) {\n    _this.set.add(ref);\n  };\n\n  this.unregister = function (ref) {\n    _this.set.delete(ref);\n  };\n};","map":{"version":3,"sources":["utils/RefStack.ts"],"names":["RefStack","nodes","Array","refId"],"mappings":"AAEA,OAAA,IAAaA,QAAb,GAAA,SAAA,QAAA,GAAA;AAAA,MAAA,KAAA,GAAA,IAAA;;AAAA,OAAA,GAAA,GACgB,IADhB,GACgB,EADhB;;AAAA,OAAA,cAAA,GAG0B,UAAA,GAAA,EAA6B;AACnD,QAAMC,KAAK,GAAGC,KAAK,CAALA,IAAAA,CAAW,KAAI,CAA7B,GAAcA,CAAd;AACA,QAAMC,KAAK,GAAGF,KAAK,CAALA,OAAAA,CAAd,GAAcA,CAAd;AAEA,WAAOA,KAAK,CAALA,KAAAA,CAAP,KAAOA,CAAP;AAPJ,GAAA;;AAAA,OAAA,QAAA,GAUoB,UAAA,GAAA,EAAwB;AACxC,IAAA,KAAI,CAAJ,GAAA,CAAA,GAAA,CAAA,GAAA;AAXJ,GAAA;;AAAA,OAAA,UAAA,GAcsB,UAAA,GAAA,EAAwB;AAC1C,IAAA,KAAI,CAAJ,GAAA,CAAA,MAAA,CAAA,GAAA;AAfJ,GAAA;AAAA,CAAA","sourcesContent":["import { NodeRef } from '../types';\n\nexport class RefStack {\n  private set = new Set<NodeRef>();\n\n  public getContextRefs = (ref: NodeRef): NodeRef[] => {\n    const nodes = Array.from(this.set);\n    const refId = nodes.indexOf(ref);\n\n    return nodes.slice(refId);\n  };\n\n  public register = (ref: NodeRef): void => {\n    this.set.add(ref);\n  };\n\n  public unregister = (ref: NodeRef): void => {\n    this.set.delete(ref);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}